---
interface Props {
  linkBlock: any;
}

import ExternalLinkIcon from "../components/ExternalLinkIcon.astro";

const { linkBlock } = Astro.props;
---

{
  () => {
    const link = linkBlock.link;

    switch (link.linktype) {
      case "url": // External URL
        return (
          <a
            class={ link.styleAs }
            href={`${linkBlock.link.url}`}
            rel={link.rel || "noopener nofollow"}
            target={link.target}
            title={link.title}
            aria-label={link["aria-label"] || `${linkBlock.title} (external link: opens in a new window)`}
          >
            {linkBlock.title}
            <ExternalLinkIcon />
          </a>
        );
      case "email":
        return (
          <a href={`mailto:${link.email}`} target={link.target}>
            {linkBlock.title}
          </a>
        );
      case "story":
        return (
          <a href={`/${link.story?.full_slug}`} target={link.target}>
            {linkBlock.title}
          </a>
        );
    }
  }
}

<style>
  .button {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: .5rem;
    padding: .75rem 1.5rem;

    border: none;
    background-color: var(--color-neutral-800);
    color: var(--color-neutral-100);
    text-decoration: none;
    border-radius: 3rem;

    &:hover {
        background-color: var(--color-neutral-700);
    }

    &:active {
        scale: 0.94;
    }

    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
}
</style>
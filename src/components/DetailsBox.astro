---
import Badge from "./Badge.astro";

interface Props {
  blok: any;
}

const { blok } = Astro.props;
---

<div class="descriptions">
  <div class="caption-box">
    <span class="caption text-small">Client</span>
    {blok.client}
  </div>

  <div class="caption-box">
    <span class="caption text-small">Year</span>
    {blok.year}
  </div>

  <div class="caption-box">
    <span class="caption text-small">Project type</span>
    {blok.project_type?.map((v: string) => <span class="project-type--value">{v}</span>)}
  </div>

  <div class="caption-box">
    <span class="caption text-small">Technologies</span>
    <div class="tech-box text-small">
      {blok.technologies?.map((tech: any) => <Badge name={tech.name} image={tech.content?.logo?.filename} />)}
    </div>
  </div>
</div>

<style>
  .descriptions {
    display: grid;
    align-items: center;
    align-content: center;
    grid-template-columns: 1fr 1fr;
    row-gap: var(--s-md);
    column-gap: var(--s-xl);
    padding: var(--s-md);
  }

  .caption-box {
    display: block;
    margin-bottom: var(--s-sm);
  }

  .caption {
    display: block;
    color: var(--color-neutral-700);
  }

  .tech-box {
    display: flex;
    margin-top: var(--s-xs);
    flex-wrap: wrap;
    row-gap: var(--s-sm);
    column-gap: var(--s-sm);
  }

  .project-type--value:not(:last-child)::after {
    content: ", ";
  }

  /* Values from Webflow */
  /* Tablet: < 991px; Mobile landscape: < 767px; mobile portrait < 478px */
  @media (width < 478px) {
    .descriptions {
      grid-template-columns: 1fr;
    }
  }
</style>

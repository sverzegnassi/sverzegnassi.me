---
import ArticleCard from "./ArticleCard.astro";
interface Props {
  entriesList: {
    content: {
      cover_image: { filename: string | undefined; alt: string | undefined };
      title: string;
      description: string | undefined;
    };
    full_slug: string | undefined;
  }[];

  linkTextDefault: string;
}

const { entriesList, linkTextDefault } = Astro.props;
---

<div class="collection-grid">
  {
    entriesList.map((entry) => (
      <ArticleCard
        coverImageUrl={entry.content?.cover_image?.filename}
        coverImageAlt={entry.content?.cover_image?.alt}
        title={entry.content?.title}
        description={entry.content?.description}
        linkHref={entry.full_slug}
        linkText={linkTextDefault}
      />
    ))
  }
</div>

<style>
  .collection-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    grid-auto-rows: auto auto auto;

    /* Values from Webflow */
    /* Tablet: < 991px; Mobile landscape: < 767px; mobile portrait < 478px */
    @media (width < 991px) {
      & {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    @media (width < 478px) {
      & {
        grid-template-columns: 1fr;
      }
    }
  }
</style>

<style is:inline>
  .collection-grid > .card > .img-wrapper > picture > img {
    transition-property: all;
    transition-timing-function: cubic-bezier(0.5, 1, 0.89, 1);
    transition-duration: 125ms;
  }

  .collection-grid > .card > .img-wrapper.highlighted > picture > img {
    scale: 1.25;
    transition-timing-function: cubic-bezier(0.11, 0, 0.5, 0);
  }

</style>
